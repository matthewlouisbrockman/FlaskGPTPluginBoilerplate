# FlaskGPTPluginBoilerplate

This is a repo that contains some boilerplate for getting started with a chatGPT plugin using a flask app. It provides solutions for several problems although I don't know what I'm doing so there's probably a bit to improve. Going to look at nextjs next.

I was hoping that this would work on replit but for some reason chatGPT and replit don't play nice (it works on localhost/heroku fine but runnign the exact code on Replit leads to some timeouts I need to go mess with)

Anyway, this provides:

- the config stuff (json/openapi yamls)
- endpoints that do stuff
- display text
- display images (sometimes lol)

To use, you need to add an environmental variable `DOMAIN` to your environment; otherwise it defaults to localhost:5000. It should work out of the box after installing with requirements.txt

## installation

- create a venv
  `python3 -m venv venv`

- activate the venv
  `source venv/bin/activate`

- install requirements
  `pip install -r requirements.txt`

- run the app
  `FLASK_APP=main.py FLASK_DEBUG=true flask run`

## Why it's useful

Alright, so there's two files this thing autogenerates:

- `/.well-known/ai-plugin.json`
- `openapi.yaml`

### ai-plugin.json

This is required by openai to install the plugin and it needs to be hosted on the same domain as the plugin at domain/.well-known/ai-plugin.json.

It's hard coded in `main.py` in `def openapi_json():` and you can change the vars you want there. It points to `"url": f"{DOMAIN}openapi.yaml"` for where the yaml's gonna be and that's the next bit.

### openapi.yaml

So this is generated by `flask_apispec` based on the blueprints that are used (see the game/pictures examples). You can modify the descriptions of all the stuff with the marshmellow / flask_apispec decorators. Play around with adding your own. Anyway, just add decorators to each endpoint you make, make sure to add them to the blueprint and spec in `main.py` and you should be good to go.
